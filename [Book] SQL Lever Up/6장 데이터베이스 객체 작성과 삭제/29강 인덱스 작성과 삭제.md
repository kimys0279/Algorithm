## 인덱스 작성, 삭제
*syntax* ``CREATE INDEX``
*syntax* ``DROP INDEX``
* 인덱스는 데이터베이스 객체의 하나로 DDL을 사용해서 작성하거나 삭제함

----

### 인덱스 작성
```CREATE INDEX 인덱스명 ON 테이블명 (열명1, 열명2, ...)```
* 데이터베이스 제품에 따라 인덱스 취급이 다름
  * ORACLE, DB2 : 스키마 객첵
  * SQL Server, MySQL : 테이블 내 객체
  
  ----

### 인덱스 삭제
```
(스키마 객체의 경우)
DROP INDEX 인덱스명

(테이블 내 객체의 경우)
DROP INDEX 인덱스면 ON 테이블명
```
* 인덱스는 테이블에 의존하는 객체로 테이블이 삭제될 경우 인덱스도 자동으로 삭제됨

----

### EXPLAIN
*syntax* ``EXPLAIN SQL명령``
* SQL명령이 인덱스를 사용해 검색하는지 확인하기 위해 사용
  * = 쿼리 실행에 대한 계획을 알고 싶을 때 사용
* 참고 [https://shlee0882.tistory.com/155]


----

* **추가 - 인덱스 생성 시 고려할 점**
  1. 일반적으로 테이블 전체 로우 수의 15% 이하의 데이터를 조회할 때 인덱스를 생성함
      * %는 테이블 건수, 데이터 분포 정도에 따라 달라짐
  2. 테이블 건수가 적다면 (코드성 테이블) 굳이 인덱스를 만들 필요 없음
      * 데이터 추출을 위해 테이블이나 인덱스를 탐색하는 것을 스캔이라고 하는데, 테이블 건수가 적으면 인덱스를 경유하기보다 테이블 전체를 스캔하는 것이 빠름
  3. 데이터의 유일성 정도가 좋거나 범위가 넓은 값을 가진 컬럼을 인덱스로 만드는 것이 좋음
  4. NULL이 많이 포함된 컬럼은 인덱스 컬럼으로 만들기 적당치 않음
  5. 결합 인덱스를 만들 때는, 컬럼의 순서가 중요함
      * 결합 인덱스 : 한 개 이상의 컬럼으로 만든 인덱스
      * 보통 자주 사용되는 컬럼을 순서상 앞에 두는 것이 좋음
  6. 테이블에 만들 수 있는 인덱스 수의 제한은 없으나, 너무 많이 만들면 오히려 성능 부하가 발생함
      * 인덱스는 스캔 성능을 극대화 하기 위해 만든 객체인데, 너무 많이 만들면 INSERT, DELETE, UPDATE시에 부하가 발생할 가능성이 큼
  * 인덱스를 제대로 만들었어도 인덱스를 제대로 사용하도록 효율적인 SQL문 작성하는 것이 중요함
