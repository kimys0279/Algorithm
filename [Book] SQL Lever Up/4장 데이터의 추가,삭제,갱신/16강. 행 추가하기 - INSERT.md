# 16강. 행 추가하기 - INSERT
> 데이터베이스의 테이블에 행을 추가하기 위해서는 **INSERT** 명령을 사용한다.

앞서 배운 SELECT 명령은 데이터 검색을 위한 것으로, 질의를 하면 데이터 베이스 서버가 클라이언트로 결과를 반환하는 형식으로 처리된다. 
데이터를 추가할 경우에는 이와 반대로 클라이언트에서 서버로 데이터를 전송하는 형식을 취하며 서버 측은 전송받은 데이터를 데이터베이스에 저장한다.
지금부터 데이터를 추가하는 데 필요한 **INSERT** 명령에 대해 알아본다. 

## 1. INSERT로 행 추가하기 
RDBMS(Relational Database Management System)는 **INSERT 명령**을 사용해 테이블의 행 단위로 데이터를 추가한다.
데이터베이스를 생성하면 테이블에는 아무런 데이터도 저장되어 있지 않은 상태가 된다. 이후 INSERT 명령으로 데이터를 추가해 데이터베이스를 구축한다. 
<br>
예를 들어 아래와 같은 빈 테이블이 있다고 가정하자. 
```mysql
SELECT * FROM sample41;
```

no|a|b
--|-|-
  | |
sample41 테이블에는 3개의 열이 정렬되어 있지만 저장된 데이터가 없어 아무것도 표시되지 않는다. 이제 이 테이블에 INSERT 명령으로 행을 
추가하려면 각 열의 값을 지정해야 한다. 각 열의 값을 지정하려면 각 컬럼이 어떤 유형의 데이터를 저장할 수 있는지 **DESC** 명령으로 확인해본다. 
```mysql
DESC sample41;
```
Field|Type|Null|Key|Default|Extra
-|-|-|-|-|-
no|int(11)|NO| |NULL|
a|varchar(30)|YES| |NULL|
b|date|YES| |NULL|
no 열은 int(11)이므로 수치형 데이터를 저장할 수 있다. a열은 varchar(30)이므로 최대 길이가 30인 문자열을 저장할 수있고, b는 날짜시간형 데이터를 저장할 수 있다.
INSERT 명령으로 행을 추가한다. <br>
* 먼저 **INSERT INTO** 뒤에 행을 추가할 테이블을 지정한다. 
```mysql
INSERT INTO sample41
```
* 행의 데이터는 다음과 같이 **VALUES** 구를 사용해 지정한다.
### 예제
```mysql
INSERT INTO sample41 VALUES(1, 'ABC', '2014-01-25');
```
값을 지정할 때는 해당 열의 데이터 형식에 맞도록 지정해야 한다. 앞에서 본 명령을 실행하면 sample41 테이블에 행이 추가된다. 
다만, **INSERT** 명령을 실행해도 처리상태만 표시될 뿐 **SELECT** 명령을 실행했을 때처럼 결과를 출력하지는 않는다. SELECT 명령의 경우 실행하면 
그 결과가 클라이언트에게 반환되지만, INSERT 명령은 데이터가 클라이언트에서 서버로 전송되므로 반환되는 결과가 없는 것이다. 실제로 행이 추가되었는지 SELECT 명령을 이용해 확인하자
```mysql
SELECT * FROM sample41;
```
no|a|b
-|-|-
1|ABC|2014-01-25
기존에 없던 행이 추가된 것을 확인할 수 있다. 
## 2. 값을 저장할 열 지정하기 
INSERT 명령으로 행을 추가할 경우 값을 저장할 열을 지정할 수 있다. 열을 지정할 경우에는 테이블명 뒤에 괄호로 묶어 열명을 나열하고 **VALUES** 구로 값을 지정한다. 
**VALUES** 구에 값을 지정할 경우에는 지정한 열과 동일한 개수로 값을 지정해야 한다.
```mysql
**INSERT INTO** 테이블명(열1, 열2, ...) **VALUES** (값1, 값2, ...);
```
앞에서 정리한 문법을 적용하면 지정한 열에 값을 넣어 행을 추가할 수 있다. 예제를 진행한다. 
```mysql
INSERT INTO sample41(a, no) VALUES('XYZ', 2);

SELECT * FROM sample41;
```

no|a|b
--|-|-
1|ABC|2014-01-25
2|XYZ|NULL

행이 추가되었다. 특히 별도의 값을 지정하지 않았던 b 열에는 기본값인 NULL(b 열의 default 값)이 저장된 것을 알 수 있다.

## 3. NOT NULL 제약
행을 추가할 때 유효한 값이 없는 상태(NULL)로 두고 싶을 경우에는 VALUES 구에서 NULL 값을 지정할 수 있다. 그렇다면 모든 컬럼의 값이 NULL 행을 추가해보자.
```mysql
INSERT INTO sample41(no, a, b) VALUES(NULL, NULL, NULL);
```
예상과는 달리 INSERT 명령을 실행하면 에러가 난다. 이는 no열에 대해 NULL 값을 허용하지 않는 **NOT NULL 제약**이 걸려있기 때문이다. 이와 같이 테이블에 저장하는 데이터를 
설정으로 제한하는 것을 통틀어 '제약(constraint)'이라 부른다. NOT NULL 제약은 그중 하나로 이 외에도 다양한 제약이 있다. 
실제로 no의 값을 NULL이 아닌 '3'으로 변경하여 실행하면 문제없이 행이 추가된다. <br> <br>

NULL은 여러 측면에서 주의할 필요가 있다. 지금까지 알아본 것처럼 NULL의 조건을 비교할 때는 IS NULL을 이용해야 하며 NULL을 포함한 연산 결과는 모두 NULL이 되어버리기도 한다. 
NULL을 허용하고 싶지 않다면 NOT NULL 제약을 걸어두는 편이 좋다. 
## 4. DEFAULT 
DESC 명령으로 열 구성을 살펴보면 **Default**라는 항목을 찾을 수 잇는데, Default는 명시적으로 값을 지정하지 않았을 경우 사용하는 초깃값을 의미한다. 
Default 값은 테이블을 정의할 때 지정할 수 있다. 열을 지정해 행을 추가할 때 지정하지 않은 열은 Default 값을 사용하여 저장된다. (실제로 sample41의 경우 Default는 모두 NULL이었다) <br> <br>

다음으로 디폴트값을 지정해 행을 추가해보자. VALUES 구에서 DEFAULT 키워드를 사용하면 디폴트값이 저장된다. 이처럼 디폴트값을 저장하는 것을 'DEFAULT를 지정하는 방법'이라고 한다. 
### DEFAULT로 값을 지정해 행 추가하기
(sample411의 d 열의 디폴트값은 0으로 지정되어 있다)
```mysql
INSERT INTO sample411(no, d) VALUES(2, DEFAULT);

SELECT * FROM sample411;
```

no|d
--|-
1|1
2|0
### - 암묵적으로 디폴트 저장
한편 앞에서 살펴본 것처럼 암묵적으로 지정하는 방법도 있다. 여기서 암묵적인 방법이란 디폴트값으로 저장할 열을 INSERT 명령문에서 별도 지정하지 않는 것을 말한다. 
실제로 d열을 제외하고 no 열만 지정해 INSERT 명령을 실행했을 때,명시적 방법과 암묵적 방법 중 어떤 것을 사용해도 d열의 값이 디폴트로 저장됨을 확인할 수 있다. 



